<html>
<head></head>
<body>
    <h2>Formulario para Registrar Productos</h2>

    <form action="http://localhost:8080/tecweb/practicas/p06/set_producto%20v2.php" method="post" id="form">
        <label for="nombre">Nombre del Producto</label>
        <input type="text" id="nombre" name="nombre" >
        <br/>
        <label for="marca">Marca</label>
        <input type="text" id="marca" name="marca">
        <br/>
        <label for="modelo">Modelo</label>
        <input type="text" id="modelo" name="modelo">
        <br/>
        <label for="precio">Precio $</label>
        <input type="number" id="precio" min="0" step="any" name="precio">
        <br/>
        <label for="detalles">Detalles</label>
        <br/>
        <textarea name="detalles" id="detalles" cols="30" rows="10" placeholder="250 caracteres como maximo"></textarea>
        <br/>
        <label for="unidades">Unidades</label>
        <input type="number" id="unidades" min="0" name="unidades">
        <br/>
        <label for="imagen">Direccion de la imagen</label>
        <input type="text" id="imagen" placeholder="img/ejemplo.png" name="imagen">
        <br/>
        <input type="submit">
        <input type="reset">
        <br/>
        <p class="warnings" id="warnings"> </p>
    </form>


    <script>
        
            const nombre = document.getElementById("nombre");
            const marca = document.getElementById("marca");
            const modelo = document.getElementById("modelo");
            const precio = document.getElementById("precio");
            const detalles = document.getElementById("detalles");
            const unidades = document.getElementById("unidades");
            const imagen = document.getElementById("imagen");
            const parrafo = document.getElementById("warnings");

            const regex = /^[0-9]*$/;


            form.addEventListener("submit", e=>{
                
                let warnings= ""
                entrar = false;
                
                if(nombre.value.length < 1){
                    warnings += 'El nombre esta vacio <br/>';
                    entrar = true
                }else{
                    if(regex.test(nombre.value)){
                    warnings += 'El nombre no pueden ser solo numeros <br/>';
                    entrar = true
                }
                }
                

                if(marca.value.length<1){
                    warnings += 'La marca esta vacia <br/>';
                    entrar = true
                }else{
                    if(regex.test(marca.value)){
                    warnings += 'La marca no pueden ser solo numeros <br/>';
                    entrar = true
                }
                }
                

                if(modelo.value.length<1){
                    warnings += 'El modelo esta vacio <br/>';
                    entrar = true
                }else{
                    if(regex.test(modelo.value)){
                    warnings += 'El modelo no pueden ser solo numeros <br/>';
                    entrar = true
                }
                }
                

                if(precio.value<1){
                    warnings += 'El precio debe de ser al menos mayor a $0 <br/>';
                    entrar = true
                }else{
                    if(regex.test(precio.value)){
                    }else{
                    warnings += 'El precio solo deben ser numeros <br/>';
                    entrar = true
                }
                }
                

                if(detalles.value.length<1){
                    warnings += 'Los detalles del producto estan vacios <br/>';
                    entrar = true
                }else{
                    if(regex.test(detalles.value)){
                    warnings += 'Los detalles no pueden ser solo numeros <br/>';
                    entrar = true
                }
                }
                

                if(unidades.value<1){
                    warnings += 'Debe haber al menos 1 unidad disponible <br/>';
                    entrar = true
                }else{
                    if(regex.test(unidades.value)){
                }else{
                    warnings += 'Las unidades solo deben ser numeros <br/>';
                    entrar = true
                }
                }
                
                


                if(imagen.value.length<1){
                    warnings += 'Falta direccion de la imagen del producto<br/>';
                    entrar = true
                }else{
                    if(regex.test(detalles.value)){
                    warnings += 'La direccion de la imagen no pueden ser solo numeros <br/>';
                    entrar = true
                }
                }
                

                if (entrar){
                    parrafo.innerHTML = warnings;
                    e.preventDefault()
                    entrar = false;
                }else{
                    parrafo.innerHTML= 'Enviado';
                }

            })
            
        
    </script>
</body>
</html>